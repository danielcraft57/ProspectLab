# Guide d'installation des outils de Pentest pour ProspectLab

## Installation dans Kali Linux (WSL)

### Commandes de base

```bash
# Se connecter à Kali Linux
wsl -d kali-linux -u loupix

# Mise à jour du système
sudo apt update && sudo apt upgrade -y
```

## Outils de Pentest essentiels

### 1. Scanners de vulnérabilités

```bash
# OpenVAS (scanner de vulnérabilités complet)
sudo apt install openvas

# Nessus (nécessite licence, mais version community disponible)
# Installation manuelle depuis https://www.tenable.com/

# Nikto (déjà mentionné mais essentiel)
sudo apt install nikto

# SQLMap (injection SQL)
sudo apt install sqlmap

# WPScan (scanner WordPress)
sudo apt install wpscan

# Joomscan (scanner Joomla)
sudo apt install joomscan

# Droopescan (scanner Drupal)
sudo apt install droopescan

# Wapiti (scanner de vulnérabilités web)
sudo apt install wapiti

# Arachni (framework de sécurité web)
sudo apt install arachni

# Burp Suite Community (nécessite installation manuelle)
# Télécharger depuis https://portswigger.net/burp/communitydownload
```

### 2. Exploitation et frameworks

```bash
# Metasploit Framework (framework d'exploitation)
sudo apt install metasploit-framework

# Exploit-DB (base de données d'exploits)
sudo apt install exploitdb

# SearchSploit (recherche dans Exploit-DB)
sudo apt install exploitdb

# BeEF (Browser Exploitation Framework)
sudo apt install beef-xss

# Social Engineering Toolkit (SET)
sudo apt install set

# RouterSploit (exploitation de routeurs)
sudo apt install routersploit
```

### 3. Analyse de mots de passe

```bash
# John the Ripper (casseur de mots de passe)
sudo apt install john

# Hashcat (casseur de hash GPU/CPU)
sudo apt install hashcat

# Hydra (force brute réseau)
sudo apt install hydra

# Medusa (force brute parallèle)
sudo apt install medusa

# Crunch (générateur de wordlists)
sudo apt install crunch

# CeWL (générateur de wordlist depuis site web)
sudo apt install cewl

# Wordlists essentielles
sudo apt install wordlists
cd /usr/share/wordlists
# RockYou.txt devrait être inclus
```

### 4. Analyse de trafic réseau

```bash
# Wireshark (analyseur de paquets)
sudo apt install wireshark

# Tcpdump (capture de paquets en ligne de commande)
sudo apt install tcpdump

# Ettercap (MITM, sniffing)
sudo apt install ettercap-text-only

# Bettercap (framework MITM)
sudo apt install bettercap

# Responder (LLMNR/NBT-NS/MDNS poisoner)
sudo apt install responder

# Impacket (outils réseau avancés)
sudo apt install impacket-scripts
```

### 5. Web Application Security

```bash
# OWASP ZAP (proxy de sécurité web)
sudo apt install zaproxy

# Burp Suite (déjà mentionné, installation manuelle)

# XSSer (test XSS)
sudo apt install xsser

# XSSer (framework XSS)
sudo apt install xsser

# Commix (injection de commandes)
sudo apt install commix

# XXEinjector (exploitation XXE)
git clone https://github.com/enjoiz/XXEinjector.git

# SSRFmap (exploitation SSRF)
git clone https://github.com/swisskyrepo/SSRFmap.git

# NoSQLMap (exploitation NoSQL)
git clone https://github.com/codingo/NoSQLMap.git
```

### 6. Fuzzing et bruteforce

```bash
# FFuF (Fast Web Fuzzer)
sudo apt install ffuf

# Wfuzz (fuzzer web)
sudo apt install wfuzz

# Dirb (déjà mentionné)
sudo apt install dirb

# Gobuster (déjà mentionné)
sudo apt install gobuster

# Dirsearch (scanner de répertoires)
sudo apt install dirsearch

# Feroxbuster (scanner rapide)
sudo apt install feroxbuster
```

### 7. Analyse de code et reverse engineering

```bash
# Radare2 (framework de reverse engineering)
sudo apt install radare2

# Ghidra (reverse engineering - installation manuelle)
# Télécharger depuis https://ghidra-sre.org/

# GDB (débogueur)
sudo apt install gdb

# Binwalk (analyse de binaires)
sudo apt install binwalk

# Strings (extraction de chaînes)
sudo apt install binutils

# Hexdump / xxd (analyse hexadécimale)
# Déjà inclus dans Kali
```

### 8. Post-exploitation

```bash
# Mimikatz (extraction de credentials Windows)
# Disponible via Metasploit ou téléchargement manuel

# BloodHound (analyse Active Directory)
sudo apt install bloodhound

# CrackMapExec (post-exploitation Windows/AD)
sudo apt install crackmapexec

# Empire (framework post-exploitation)
git clone https://github.com/EmpireProject/Empire.git

# PowerSploit (PowerShell pour pentest)
git clone https://github.com/PowerShellMafia/PowerSploit.git
```

### 9. Outils réseau avancés

```bash
# Nmap (déjà installé)
# NSE scripts (scripts Nmap)
sudo apt install nmap

# Masscan (déjà mentionné)
sudo apt install masscan

# Netcat (couteau suisse réseau)
sudo apt install netcat

# Socat (relais réseau)
sudo apt install socat

# Proxychains (proxy pour applications)
sudo apt install proxychains4

# SSHuttle (VPN via SSH)
sudo apt install sshuttle
```

### 10. Outils de stéganographie

```bash
# Steghide (stéganographie)
sudo apt install steghide

# Stegsolve (analyse stéganographique)
# Télécharger depuis http://www.caesum.com/handbook/stego.htm

# Outguess (stéganographie)
sudo apt install outguess

# Binwalk (déjà mentionné, aussi pour stéganographie)
```

### 11. Outils de reconnaissance avancée

```bash
# Recon-ng (déjà mentionné en OSINT)
sudo apt install recon-ng

# SpiderFoot (déjà mentionné)
git clone https://github.com/smicallef/spiderfoot.git

# Shodan CLI (déjà mentionné)
pip3 install shodan

# Censys (déjà mentionné)
pip3 install censys
```

### 12. Frameworks et plateformes complètes

```bash
# Metasploit (déjà mentionné)
sudo apt install metasploit-framework

# Armitage (interface graphique Metasploit)
sudo apt install armitage

# Cobalt Strike (commercial, nécessite licence)

# Empire (déjà mentionné)
git clone https://github.com/EmpireProject/Empire.git

# Covenant (framework C2)
git clone https://github.com/cobbr/Covenant.git
```

## Installation groupée (copier-coller)

```bash
# Se connecter à Kali
wsl -d kali-linux -u loupix

# Mise à jour
sudo apt update && sudo apt upgrade -y

# Installation des outils essentiels de pentest
sudo apt install -y \
    metasploit-framework \
    exploitdb \
    beef-xss \
    set \
    routersploit \
    john \
    hashcat \
    hydra \
    medusa \
    crunch \
    cewl \
    wordlists \
    wireshark \
    tcpdump \
    ettercap-text-only \
    bettercap \
    responder \
    impacket-scripts \
    zaproxy \
    sqlmap \
    wpscan \
    joomscan \
    droopescan \
    wapiti \
    arachni \
    xsser \
    commix \
    ffuf \
    wfuzz \
    dirsearch \
    feroxbuster \
    radare2 \
    gdb \
    binwalk \
    bloodhound \
    crackmapexec \
    netcat \
    socat \
    proxychains4 \
    sshuttle \
    steghide \
    outguess

# Installation des outils Python
pip3 install --upgrade pip
pip3 install \
    requests \
    beautifulsoup4 \
    lxml \
    python-nmap \
    shodan \
    censys

# Installation de Metasploit database
sudo msfdb init

# Installation d'Empire
cd ~
git clone https://github.com/EmpireProject/Empire.git
cd Empire
./setup/install.sh
cd ~

# Installation de XXEinjector
cd ~
git clone https://github.com/enjoiz/XXEinjector.git
cd ~

# Installation de SSRFmap
cd ~
git clone https://github.com/swisskyrepo/SSRFmap.git
cd ~

# Installation de NoSQLMap
cd ~
git clone https://github.com/codingo/NoSQLMap.git
cd ~
```

## Configuration importante

### Metasploit

```bash
# Initialiser la base de données
sudo msfdb init

# Démarrer PostgreSQL
sudo systemctl start postgresql

# Vérifier la connexion
msfconsole
> db_status
```

### Burp Suite

1. Télécharger depuis https://portswigger.net/burp/communitydownload
2. Extraire dans `~/tools/burpsuite/`
3. Créer un script de lancement :

```bash
#!/bin/bash
cd ~/tools/burpsuite
java -jar burpsuite_community.jar
```

### Ghidra

1. Télécharger depuis https://ghidra-sre.org/
2. Extraire dans `~/tools/ghidra/`
3. Créer un script de lancement :

```bash
#!/bin/bash
cd ~/tools/ghidra
./ghidraRun
```

## Intégration avec ProspectLab

Ces outils peuvent être intégrés dans ProspectLab pour :

1. **Scanners de vulnérabilités** : Automatiser les scans avec WPScan, SQLMap, etc.
2. **Détection de failles** : Intégrer les résultats dans les analyses techniques
3. **Force brute** : Tester les faiblesses de mots de passe (avec autorisation)
4. **Analyse de trafic** : Capturer et analyser le trafic réseau
5. **Post-exploitation** : Analyser les systèmes compromis (environnements autorisés uniquement)

## Workflow de pentest typique

1. **Reconnaissance** : Nmap, Masscan, DNSrecon, TheHarvester
2. **Scanning** : Nikto, WPScan, SQLMap, Wapiti
3. **Exploitation** : Metasploit, Exploit-DB, SQLMap
4. **Post-exploitation** : Mimikatz, BloodHound, CrackMapExec
5. **Reporting** : Documenter toutes les vulnérabilités trouvées

## Notes légales importantes

⚠️ **ATTENTION** : Ces outils sont destinés à des tests de sécurité **AUTORISÉS UNIQUEMENT**.

- Ne jamais utiliser ces outils sur des systèmes sans autorisation écrite
- Toujours obtenir une autorisation explicite avant tout test
- Respecter les lois locales et internationales
- Utiliser uniquement dans des environnements de test ou avec autorisation écrite
- Documenter toutes les activités de test

## Vérification de l'installation

```bash
# Tester quelques outils
msfconsole --version
sqlmap --version
wpscan --version
john --version
hashcat --version
hydra --version
nmap --version
```

## Ressources supplémentaires

- **OWASP Top 10** : https://owasp.org/www-project-top-ten/
- **PTES (Penetration Testing Execution Standard)** : http://www.pentest-standard.org/
- **Kali Linux Documentation** : https://www.kali.org/docs/
- **Metasploit Unleashed** : https://www.offensive-security.com/metasploit-unleashed/

